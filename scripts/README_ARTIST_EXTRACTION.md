# Как включить извлечение нескольких артистов из имени файла

## Текущая ситуация

**ВРЕМЕННО ОТКЛЮЧЕНО**: Извлечение артистов из имени файла.

**Причина**: Имена часто написаны на кириллице или с ошибками, что может привести к некорректным результатам.

## Текущий механизм

```
Artist = название папки
Album = название папки
Title = извлекается из имени файла (после разделителя – или -)
Cover = qo_2000.png (встраивается в каждый файл)
```

## Как включить извлечение артистов

После того, как вы вручную исправите имена файлов и артистов:

### Шаг 1: Откройте скрипт

```bash
nano /Volumes/T9/1_dev/1_QO/myQO/navidrome/scripts/update-music-tags.sh
```

### Шаг 2: Найдите строку 239-242

```bash
# ВРЕМЕННО ОТКЛЮЧЕНО: Извлечение артистов из имени файла
# Используем старый механизм - Artist из названия папки
# TODO: Включить после ручного исправления имен артистов
# artists=$(extract_artists_from_filename "$filename")

# Старый механизм: Artist = название папки
artists="$ALBUM_NAME"
```

### Шаг 3: Замените на

```bash
# Извлекаем артистов из имени файла
artists=$(extract_artists_from_filename "$filename")

# Старый механизм (отключен):
# artists="$ALBUM_NAME"
```

### Шаг 4: Измените вывод (строка 252)

Было:
```bash
echo "  Artist: $artists_transliterated (из папки)"
```

Станет:
```bash
echo "  Artist: $artists_transliterated"
```

## Примеры поддерживаемых форматов

После включения функции будут поддерживаться:

```
Emine Ziadin, Nazife Reizova – ILACIM.mp3
→ Artist: Emine Ziadin; Nazife Reizova
→ Title: ILACIM

Artist1 & Artist2 - Song.mp3
→ Artist: Artist1; Artist2
→ Title: Song

Artist1 feat. Artist2 - Song.mp3
→ Artist: Artist1; Artist2
→ Title: Song

Artist1 ft Artist2 - Song.mp3
→ Artist: Artist1; Artist2
→ Title: Song
```

## Функция уже готова

Функция `extract_artists_from_filename()` уже реализована в скрипте (строки 48-89).
Она распознает разделители:
- `,` - запятая
- `&` - амперсанд
- `feat.` / `ft.` / `featuring` - фичеринг

И преобразует их в формат с точкой с запятой: `Artist1; Artist2`

## Рекомендации

1. Перед включением убедитесь, что имена файлов исправлены
2. Проверьте на небольшой тестовой папке
3. Используйте `--yes` для автоматического подтверждения массовой обработки
